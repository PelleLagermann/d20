!function(e){function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var t={};r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=9)}([function(e,r,t){"use strict";function n(e){var r=void 0;r="BUTTON"!==e.target.nodeName?findAncestor(e.target,"btn"):e.target;var t=r.dataset.type,n=r.dataset.value;!cur&&formula.length>0&&(cur=formula.pop()),handlers[t](n),printFormula()}Object.defineProperty(r,"__esModule",{value:!0}),r.clickHandler=n},function(e,r,t){"use strict";function n(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}Object.defineProperty(r,"__esModule",{value:!0}),r.findAncestor=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={init:function(){String.prototype.replaceAll=function(e,r){return this.replace(new RegExp(e,"g"),r)}}};r.prototypes=n},function(e,r,t){"use strict";function n(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e))+e}function u(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e+1))+e}Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomInt=n,r.getRandomIntInclusive=u},function(module,exports,__webpack_require__){"use strict";function actionHandler(e){var r={type:inputType.action,value:e};cur?cur.type===inputType.action?cur.value=e:(formula.push(cur),cur=r):cur=r}function clearHandler(e){"clear"===e&&(formula=[],cur=null,outputElem.textContent=""),"del"===e&&(cur=formula.pop())}function diceHandler(e){var r={type:inputType.dice,rolls:1,dice:e,isCustom:"x"===e};if(r.value=r.rolls+"d"+r.dice,cur)switch(cur.type){case inputType.action:formula.push(cur),cur=r;break;case inputType.dice:cur.dice===e||cur.isCustom&&"x"===e?(cur.rolls++,cur.value=cur.rolls+"d"+cur.dice):(formula.push(cur),formula.push({type:inputType.action,value:"+"}),cur=r);break;case inputType.number:r.rolls=cur.value,r.value=r.rolls+"d"+r.dice,cur=r}else cur=r}function numberHandler(e){var r={type:inputType.number,value:e};if(cur)switch(cur.type){case inputType.action:formula.push(cur),cur=r;break;case inputType.dice:cur.isCustom?(cur.dice=cur.dice.replace("x","")+e,cur.value=cur.rolls+"d"+cur.dice):(formula.push(cur),cur=r);break;case inputType.number:default:cur.value+=""+e}else cur=r}function paranthesesHandler(e){}function rollHandler(value){cur&&(formula.push(cur),cur=null);var formulaStr=buildFormulaStr();console.log("formulaStr",formulaStr);var result=eval(formulaStr);outputFormulaElem.textContent=formulaStr,outputTotalElem.textContent=result,outputTotalElem.classList.add("animated","zoomIn"),setTimeout(function(){outputTotalElem.classList.remove("animated","zoomIn")},700)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.actionHandler=actionHandler,exports.clearHandler=clearHandler,exports.diceHandler=diceHandler,exports.numberHandler=numberHandler,exports.paranthesesHandler=paranthesesHandler,exports.rollHandler=rollHandler},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={init:function(){document.querySelector(".nav-toggle").addEventListener("click",function(e){document.body.classList.toggle("nav-is-open")})}};r.navigation=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={init:function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){console.log("service worker registered")})}};r.registerServiceWorker=n},function(e,r){},function(e,r){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,r,t){"use strict";(function(e){var r=t(2),n=t(5),u=t(3),o=t(4),l=t(1),a=t(0),c=t(6);t(7),c.registerServiceWorker.init(),n.navigation.init(),r.prototypes.init(),e.findAncestor=l.findAncestor,e.inputType={action:"action",clear:"clear",del:"del",dice:"dice",number:"number",parantheses:"parantheses",roll:"roll"},e.operators={"/":"รท","*":"ร","-":"-","+":"+"},e.formula=[],e.cur=null,e.formulaElem=document.querySelector(".formula"),e.outputElem=document.querySelector(".output"),e.outputFormulaElem=document.querySelector(".output__formula"),e.outputTotalElem=document.querySelector(".output__total"),e.buttonWrapper=document.querySelector(".controls-wrapper"),e.handlers={action:o.actionHandler,clear:o.clearHandler,dice:o.diceHandler,number:o.numberHandler,parantheses:o.paranthesesHandler,roll:o.rollHandler},e.printFormula=function(){formulaElem.textContent=buildFormulaStr(!0)},e.buildFormulaStr=function(e){for(var r="",t=0;t<formula.length;t++){var n=formula[t];if(e)r=r+n.value+" ";else if(n.type===inputType.dice){for(var o=0,l=0,a=1;a<=n.rolls;a++)l++,o+=(0,u.getRandomIntInclusive)(1,n.dice);r=r+"("+o+") "}else r=r+formula[t].value+" "}return cur&&(r+=cur.value),e&&(r=r.replaceAll("/",operators["/"]),r=r.replaceAll("\\*",operators["*"]),r=r.replaceAll("-",operators["-"]),r=r.replaceAll("\\+",operators["+"])),r},buttonWrapper.addEventListener("click",a.clickHandler,!1)}).call(r,t(8))}]);