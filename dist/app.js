!function(e){function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var t={};r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=5)}([function(e,r,t){"use strict";function n(e){var r=void 0;r="BUTTON"!==e.target.nodeName?findAncestor(e.target,"btn"):e.target;var t=r.dataset.type,n=r.dataset.value;!cur&&formula.length>0&&(cur=formula.pop()),handlers[t](n),printFormula()}Object.defineProperty(r,"__esModule",{value:!0}),r.clickHandler=n},function(e,r,t){"use strict";function n(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}Object.defineProperty(r,"__esModule",{value:!0}),r.findAncestor=n},function(e,r,t){"use strict";function n(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e))+e}function u(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e+1))+e}Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomInt=n,r.getRandomIntInclusive=u},function(module,exports,__webpack_require__){"use strict";function actionHandler(e){var r={type:inputType.action,value:e};cur?cur.type===inputType.action?cur.value=e:(formula.push(cur),cur=r):cur=r}function clearHandler(e){"clear"===e&&(formula=[],cur=null,outputElem.textContent=""),"del"===e&&(cur=formula.pop())}function diceHandler(e){var r={type:inputType.dice,rolls:1,dice:e};if(r.value=r.rolls+"d"+r.dice,cur)switch(cur.type){case inputType.action:formula.push(cur),cur=r;break;case inputType.dice:cur.dice===e?(cur.rolls++,cur.value=cur.rolls+"d"+cur.dice):(formula.push(cur),formula.push({type:inputType.action,value:"+"}),cur=r);break;case inputType.number:r.rolls=cur.value,r.value=r.rolls+"d"+r.dice,cur=r}else cur=r}function numberHandler(e){var r={type:inputType.number,value:e};if(cur)switch(cur.type){case inputType.action:case inputType.dice:formula.push(cur),cur=r;break;case inputType.number:default:cur.value+=""+e}else cur=r}function paranthesesHandler(e){}function rollHandler(value){cur&&(formula.push(cur),cur=null);var formulaStr=buildFormulaStr();console.log("formulaStr",formulaStr);var result=eval(formulaStr);outputElem.classList.add("animated","zoomIn"),outputElem.textContent=result,setTimeout(function(){outputElem.classList.remove("animated","zoomIn")},700)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.actionHandler=actionHandler,exports.clearHandler=clearHandler,exports.diceHandler=diceHandler,exports.numberHandler=numberHandler,exports.paranthesesHandler=paranthesesHandler,exports.rollHandler=rollHandler},function(e,r){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,r,t){"use strict";(function(e){var r=t(2),n=t(3),u=t(1),l=t(0);String.prototype.replaceAll=function(e,r){return this.replace(new RegExp(e,"g"),r)},e.findAncestor=u.findAncestor,e.inputType={action:"action",clear:"clear",del:"del",dice:"dice",number:"number",parantheses:"parantheses",roll:"roll"},e.operators={"/":"รท","*":"ร","-":"-","+":"+"},e.formula=[],e.cur=null,e.formulaElem=document.querySelector(".formula"),e.outputElem=document.querySelector(".output"),e.buttonWrapper=document.querySelector(".controls-wrapper"),e.handlers={action:n.actionHandler,clear:n.clearHandler,dice:n.diceHandler,number:n.numberHandler,parantheses:n.paranthesesHandler,roll:n.rollHandler},e.printFormula=function(){formulaElem.textContent=buildFormulaStr(!0)},e.buildFormulaStr=function(e){for(var t="",n=0;n<formula.length;n++){var u=formula[n];if(e)t=t+u.value+" ";else if(u.type===inputType.dice){for(var l=0,a=0,o=1;o<=u.rolls;o++)a++,l+=(0,r.getRandomIntInclusive)(1,u.dice);t=t+""+l+" "}else t=t+formula[n].value+" "}return cur&&(t+=cur.value),e&&(t=t.replaceAll("/",operators["/"]),t=t.replaceAll("\\*",operators["*"]),t=t.replaceAll("-",operators["-"]),t=t.replaceAll("\\+",operators["+"])),t},buttonWrapper.addEventListener("click",l.clickHandler,!1)}).call(r,t(4))}]);